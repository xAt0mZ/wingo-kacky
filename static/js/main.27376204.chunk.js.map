{"version":3,"sources":["components/LoadingSpinner.js","components/ErrorMessage.js","components/header/MapsCounter.js","components/header/index.js","components/body/Filters.js","components/body/MapButton.js","components/body/MapsButtonGroup.js","components/body/MapsRow.js","models/filters.js","components/footer/MapDetails.js","components/footer/VideoPlayer.js","components/footer/index.js","models/map.js","api/index.js","App.js","index.js"],"names":["LoadingSpinner","Spinner","animation","role","size","className","ErrorMessage","Row","MapsCounter","props","finished","total","Header","src","alt","width","height","style","borderRadius","Filters","Form","Col","Select","onChange","e","onFilterChange","target","value","options","map","o","Check","inline","type","id","onOrderChange","checked","MapButton","ToggleButton","variant","name","onMapSelection","MapsButtonGroup","selectedId","ButtonGroup","maps","MapsRow","rows","cols","Math","ceil","length","Array","keys","row","slice","LOCALE_LANG","LOCALE_DATE_OPTIONS","year","month","day","ALL_DAYS","MapDetails","selectedMap","minWidth","date","toLocaleDateString","toLocaleTimeString","time","VideoPlayer","URL","title","allowFullScreen","Footer","clip","Map","Object","assign","this","parseDate","str","split","D","M","Y","h","m","s","Date","parse","x","def","parseInt","normalizeValues","key","process","url","API","get","axios","App","bind","state","a","res","data","valueRanges","r","values","v","match","transformClip","undefined","flat","finishedMaps","_","filter","orderedMaps","sortBy","getDate","dates","uniq","concat","setState","err","orderByDate","find","orderBy","finishedMapsCount","totalMapsCount","filteredMaps","filterAndOrderMaps","Container","minHeight","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27376204.chunk.js","sourcesContent":["import Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport default function LoadingSpinner() {\r\n  return (\r\n    <Spinner animation=\"border\" role=\"status\" size=\"xxl\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  );\r\n}","import Row from 'react-bootstrap/Row';\r\n\r\nexport default function ErrorMessage() {\r\n  return (\r\n    <Row>\r\n      <span className=\"d-block fs-1 mx-auto\">Impossible de récupérer les données</span>\r\n      <span className=\"fs-1 d-block mx-auto\">Recharge la page</span>\r\n    </Row>\r\n  );\r\n}\r\n","export default function MapsCounter(props) {\r\n  return (\r\n    <span className={props.className + \" fs-1\"}>\r\n      {props.finished} / {props.total}\r\n    </span>\r\n  );\r\n}","import MapsCounter from './MapsCounter';\r\n\r\nexport default function Header(props) {\r\n  return (\r\n    <header className=\"py-3 mb-2 border-bottom hstack gap-1\">\r\n      <div className=\"d-flex align-items-center mb-3 mb-md-0\">\r\n        <img\r\n          src=\"https://static-cdn.jtvnw.net/jtv_user_pictures/78ac5f9f-024b-4bf3-9098-e2278ebdc26a-profile_image-70x70.png\"\r\n          alt=\"Wingo logo\"\r\n          width=\"70\"\r\n          height=\"70\"\r\n          className=\"me-2\"\r\n          style={{ borderRadius: \"50%\" }} />\r\n        <span className=\"fs-1\">Wingobear - Kacky 2021</span>\r\n      </div>\r\n      <MapsCounter className=\"ms-auto\" finished={props.finished} total={props.total} />\r\n    </header>\r\n  );\r\n}","import Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nexport default function Filters(props) {\r\n  return (\r\n    <Form className=\"ms-1\">\r\n      <Row className=\"align-items-center fs-3\">\r\n        <Col>\r\n          <Form.Select aria-label=\"Filter select\" onChange={(e) => props.onFilterChange(e.target.value)}>\r\n            {props.options.map((o) =>\r\n              <option key={o}>{o}</option>\r\n            )}\r\n          </Form.Select>\r\n        </Col>\r\n        <Col>\r\n          <span>Trier par numéro</span>\r\n          <Form.Check\r\n            inline\r\n            type=\"switch\"\r\n            id=\"custom-switch\"\r\n            className=\"mx-3 fs-4\"\r\n            onChange={(e) => props.onOrderChange(e.target.checked)}\r\n          />\r\n          <span>ordre de finish</span>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}","import ToggleButton from 'react-bootstrap/ToggleButton';\r\n\r\nexport default function MapButton(props) {\r\n  const map = props.map;\r\n  return (\r\n    <ToggleButton\r\n      id={`radio-${map.id}`}\r\n      type=\"radio\"\r\n      variant={map.finished ? 'outline-success' : 'outline-danger'}\r\n      name=\"radio\"\r\n      value={map.id}\r\n      checked={props.checked}\r\n      onChange={() => props.onMapSelection(map.id)}\r\n      className=\"m-1 fw-bolder\"\r\n    >\r\n      {map.id}\r\n    </ToggleButton>\r\n  );\r\n}\r\n","import ButtonGroup from 'react-bootstrap/ButtonGroup';\r\n\r\nimport MapButton from './MapButton';\r\n\r\nexport default function MapsButtonGroup(props) {\r\n  const selectedId = props.selectedId;\r\n\r\n  return (\r\n    <ButtonGroup size=\"sm\" className=\"btn-group-justified\">\r\n      {props.maps.map((map) => {\r\n        return (\r\n          <MapButton\r\n            map={map}\r\n            key={map.id}\r\n            checked={selectedId === map.id}\r\n            onMapSelection={props.onMapSelection} />\r\n        );\r\n      })}\r\n    </ButtonGroup>\r\n  );\r\n}\r\n","import Row from 'react-bootstrap/Row';\r\nimport MapsButtonGroup from './MapsButtonGroup';\r\n\r\nexport default function MapsRow(props) {\r\n  let rows = 3;\r\n  let cols = Math.ceil(props.maps.length / rows);\r\n  if (props.maps.length !== 75) {\r\n    rows = 1;\r\n    cols = props.maps.length;\r\n  }\r\n  const selectedId = props.selectedId;\r\n\r\n  return (\r\n    <Row>\r\n      {[...Array(rows).keys()].map((row) =>\r\n        <MapsButtonGroup\r\n          key={row}\r\n          selectedId={selectedId}\r\n          maps={props.maps.slice(row * cols, (row + 1) * cols)}\r\n          onMapSelection={props.onMapSelection} />\r\n      )}\r\n    </Row>\r\n  );\r\n}\r\n","export const LOCALE_LANG = 'fr-FR';\r\nexport const LOCALE_DATE_OPTIONS = { year: 'numeric', month: 'long', day: 'numeric' };\r\nexport const ALL_DAYS = 'Tous les jours';","import { LOCALE_DATE_OPTIONS, LOCALE_LANG } from \"../../models/filters\";\r\n\r\nexport default function MapDetails(props) {\r\n  const selectedMap = props.map;\r\n  if (!selectedMap || !selectedMap.finished) {\r\n    return (<div></div>);\r\n  }\r\n\r\n  return (\r\n    <div className=\"vstack flex-grow-0 gap-5 mt-5 fs-3\" style={{ minWidth: '25%' }}>\r\n      <span className=\"fs-1\">\r\n        {selectedMap.id}\r\n      </span>\r\n      <div>\r\n        <span className=\"d-block\">\r\n          {selectedMap.date.toLocaleDateString(LOCALE_LANG, LOCALE_DATE_OPTIONS)}\r\n        </span>\r\n        <span className=\"d-block\">\r\n          {selectedMap.date.toLocaleTimeString(LOCALE_LANG)}\r\n        </span>\r\n      </div>\r\n      <span className=\"fs-3\">\r\n        {selectedMap.time}\r\n      </span>\r\n    </div >\r\n  );\r\n}","export default function VideoPlayer(props) {\r\n  return (\r\n    <div className=\"w-100 h-100\">\r\n      {props.URL &&\r\n        <iframe\r\n          title=\"Map clip\"\r\n          src={props.URL}\r\n          width=\"100%\" height=\"100%\" allowFullScreen\r\n        ></iframe>}\r\n    </div>\r\n  );\r\n}\r\n","import Row from 'react-bootstrap/Row';\r\nimport MapDetails from './MapDetails';\r\n\r\nimport VideoPlayer from './VideoPlayer';\r\n\r\nexport default function Footer(props) {\r\n  return (\r\n    <Row className=\"flex-fill\">\r\n      <div className=\"hstack gap-2\">\r\n        <MapDetails map={props.selectedMap} />\r\n        <VideoPlayer URL={props.selectedMap ? props.selectedMap.clip : ''} />\r\n      </div>\r\n    </Row>\r\n  );\r\n}","export default class Map {\r\n  constructor(id, finished, date, time, clip) {\r\n    Object.assign(this, { id, finished, date, time, clip });\r\n  }\r\n}\r\n\r\nfunction transformClip(str) {\r\n  let clip = str.match(/(https:\\/\\/clips\\.twitch\\.tv\\/)(.+)\";/);\r\n  if (clip) {\r\n    clip = `${clip[1]}embed?clip=${clip[2]}&parent=${process.env.REACT_APP_IFRAME_PARENT}`;\r\n  } else {\r\n    clip = str.match(/(https:\\/\\/streamable\\.com\\/)(.+)\";/);\r\n    clip = `${clip[1]}o/${clip[2]}`;\r\n  }\r\n  return clip;\r\n}\r\n\r\nfunction normalizeValues([D, M, Y, h, m, s]) {\r\n  const parse = (x, def = 0) => x ? parseInt(x) : def;\r\n\r\n  D = parse(D);\r\n  M = parse(M, 8) - 1;\r\n  Y = parse(Y, 2021);\r\n  h = parse(h);\r\n  m = parse(m);\r\n  s = parse(s);\r\n  return [Y, M, D, h, m, s];\r\n}\r\n\r\nfunction parseDate(str) {\r\n  const [date, time] = str.split(' ');\r\n  const [D, M, Y] = date.split('/');\r\n  let [h, m, s] = [0, 0, 0];\r\n  if (time) {\r\n    [h, m , s] = time.split(':');\r\n  }\r\n  return new Date(...normalizeValues([D, M, Y, h, m, s]));\r\n}\r\n\r\nexport function extractMaps(data) {\r\n  return data.valueRanges.map((r) =>\r\n    r.values.map((v) => {\r\n      let [id, finished, date, time, clip] = v;\r\n      if (!finished) {\r\n        return new Map(id, finished);\r\n      }\r\n      date = date && date !== '' ? parseDate(date) : new Date();\r\n      time = time || '';\r\n      clip = clip ? transformClip(clip) : undefined;\r\n      return new Map(id, finished, date, time, clip)\r\n    })\r\n  ).flat();\r\n}","import axios from \"axios\";\r\n\r\nconst baseURL = 'https://sheets.googleapis.com/v4/spreadsheets/1Yqkhv4ayhwFkV39W0W7GLt1FnpHLUUXtpgGvRklnDnI/values:batchGet';\r\nconst key = `key=${process.env.REACT_APP_GOOGLE_API_KEY}`;\r\nconst ranges = 'ranges=WINGO!A2:F33&ranges=WINGO!G2:L33&ranges=WINGO!M2:R12';\r\nconst options = 'valueRenderOption=FORMULA&dateTimeRenderOption=FORMATTED_STRING'\r\nconst url = `${baseURL}?${key}&${ranges}&${options}`\r\n\r\nconst API = {\r\n  get: () => axios.get(url)\r\n}\r\nexport default API;\r\n","import React from 'react';\r\nimport _ from 'lodash-es';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\n\r\nimport LoadingSpinner from './components/LoadingSpinner';\r\nimport ErrorMessage from './components/ErrorMessage';\r\n\r\nimport Header from './components/header'\r\nimport Filters from './components/body/Filters';\r\nimport MapsRow from './components/body/MapsRow';\r\nimport Footer from './components/footer';\r\n\r\nimport { extractMaps } from './models/map';\r\nimport API from './api';\r\nimport { ALL_DAYS, LOCALE_DATE_OPTIONS, LOCALE_LANG } from './models/filters';\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onMapSelection = this.onMapSelection.bind(this);\r\n    this.onOrderChange = this.onOrderChange.bind(this);\r\n    this.onFilterChange = this.onFilterChange.bind(this);\r\n\r\n    this.state = {\r\n      maps: [],\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const res = await API.get();\r\n      const maps = extractMaps(res.data);\r\n\r\n      const finishedMaps = _.filter(maps, { finished: true });\r\n      const orderedMaps = _.sortBy(finishedMaps, (m) => m.date.getDate());\r\n      const dates = _.uniq(\r\n        orderedMaps.map((m) => m.date.toLocaleDateString(LOCALE_LANG, LOCALE_DATE_OPTIONS))\r\n      );\r\n\r\n      const options = _.concat([ALL_DAYS], ...dates);\r\n      this.setState({ maps, options });\r\n    } catch (err) {\r\n      this.setState({ err })\r\n    }\r\n  }\r\n\r\n  onFilterChange(filter) {\r\n    this.setState({ filter });\r\n  }\r\n\r\n  onOrderChange(orderByDate) {\r\n    this.setState({ orderByDate });\r\n  }\r\n\r\n  onMapSelection(id) {\r\n    this.setState({\r\n      selectedMap: _.find(this.state.maps, { id: id })\r\n    });\r\n  }\r\n\r\n  filterAndOrderMaps() {\r\n    let maps = this.state.maps;\r\n    if (this.state.orderByDate) {\r\n      maps = _.orderBy(maps, 'date');\r\n    }\r\n    if (this.state.filter && this.state.filter !== ALL_DAYS) {\r\n      maps = _.filter(maps, (m) => m.finished && m.date.toLocaleDateString(LOCALE_LANG, LOCALE_DATE_OPTIONS) === this.state.filter)\r\n    }\r\n    return maps;\r\n  }\r\n\r\n  render() {\r\n    const selectedId = this.state.selectedMap ? this.state.selectedMap.id : 0;\r\n    const finishedMapsCount = _.filter(this.state.maps, { finished: true }).length;\r\n    const totalMapsCount = this.state.maps.length;\r\n    const filteredMaps = this.filterAndOrderMaps();\r\n\r\n    if (!this.state.maps.length && !this.state.err) {\r\n      return (\r\n        <Container className=\"d-flex justify-content-center align-items-center\" style={{ width: \"100vh\", height: \"100vh\" }}>\r\n          <LoadingSpinner></LoadingSpinner>\r\n        </Container>\r\n      );\r\n    }\r\n\r\n    if (this.state.err) {\r\n      return (\r\n        <Container className=\"d-flex align-items-center text-center\" style={{ width: \"100vh\", height: \"100vh\" }}>\r\n          <ErrorMessage />\r\n        </Container>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Container className=\"vstack gap-2 p-0 pb-2 text-center\" style={{ minHeight: \"100vh\" }}>\r\n        <Header finished={finishedMapsCount} total={totalMapsCount} />\r\n        <Filters options={this.state.options} onFilterChange={this.onFilterChange} onOrderChange={this.onOrderChange} />\r\n        <MapsRow maps={filteredMaps} selectedId={selectedId} onMapSelection={this.onMapSelection} />\r\n        <Footer selectedMap={this.state.selectedMap} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import reportWebVitals from './reportWebVitals';\n\nimport './index.css'\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}