(this.webpackJsonpkacky=this.webpackJsonpkacky||[]).push([[0],{45:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(30),i=a.n(c),r=(a(45),a(20)),o=a.n(r),l=a(31),d=a(12),h=a(32),p=a(13),u=a(40),j=a(36),m=a(89),f=a(21),b=a(33),O=a(0);function v(){return Object(O.jsx)(b.a,{animation:"border",role:"status",size:"xxl",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}function g(e){return Object(O.jsxs)("span",{className:"fs-1",children:[e.finished," / ",e.total]})}function x(e){return Object(O.jsxs)("header",{className:"py-3 mb-4 border-bottom d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[Object(O.jsx)("img",{src:"https://static-cdn.jtvnw.net/jtv_user_pictures/78ac5f9f-024b-4bf3-9098-e2278ebdc26a-profile_image-70x70.png",alt:"Wingo logo",width:"70",height:"70",className:"me-2",style:{borderRadius:"50%"}}),Object(O.jsx)("span",{className:"fs-1",children:"Wingobear - Kacky 2021"})]}),Object(O.jsx)(g,{finished:e.finished,total:e.total})]})}var y=a(37),M=a(15),k=a(34),N=a(39);function R(e){var t=e.map;return Object(O.jsx)(N.a,{id:"radio-".concat(t.id),type:"radio",variant:t.finished?"outline-success":"outline-danger",name:"radio",value:t.id,checked:e.checked,onChange:function(){return e.onMapSelection(t.id)},className:"m-1 fw-bolder",children:t.id})}function w(e){var t=e.selectedId;return Object(O.jsx)(k.a,{size:"sm",className:"btn-group-justified",children:e.maps.map((function(a){return Object(O.jsx)(R,{map:a,checked:t===a.id,onMapSelection:e.onMapSelection},a.id)}))})}function G(e){var t=e.rows,a=e.cols,n=e.selectedId;return Object(O.jsx)(M.a,{children:Object(y.a)(Array(t).keys()).map((function(t){return Object(O.jsx)(w,{className:"d-flex justify-content-evenly",selectedId:n,maps:e.maps.slice(t*a,(t+1)*a),onMapSelection:e.onMapSelection},t)}))})}function S(e){return Object(O.jsx)("div",{children:e.URL&&Object(O.jsx)("iframe",{title:"Map clip",src:e.URL,width:"100%",height:"100%",allowFullScreen:!0})})}function I(e){return Object(O.jsx)(M.a,{className:"justify-content-center flex-fill",children:Object(O.jsx)(S,{URL:e.selectedMap?e.selectedMap.clip:""})})}var L=a(38),W=function e(t,a,n,s,c){Object(d.a)(this,e),Object.assign(this,{id:t,finished:a,date:n,time:s,clip:c})};var F=a(35),U=a.n(F),A=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onMapSelection=n.onMapSelection.bind(Object(p.a)(n)),n.state={maps:[],selectedMap:void 0},n}return Object(h.a)(a,[{key:"fetchData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://sheets.googleapis.com/v4/spreadsheets/1Yqkhv4ayhwFkV39W0W7GLt1FnpHLUUXtpgGvRklnDnI/values:batchGet",t="key=".concat("AIzaSyCXaXgfyz_Gneiis7D3yJk22hUQ9NOssUg"),"ranges=WINGO!A2:F33&ranges=WINGO!G2:L33&ranges=WINGO!M2:R12","valueRenderOption=FORMULA&dateTimeRenderOption=FORMATTED_STRING",a="".concat("https://sheets.googleapis.com/v4/spreadsheets/1Yqkhv4ayhwFkV39W0W7GLt1FnpHLUUXtpgGvRklnDnI/values:batchGet","?").concat(t,"&").concat("ranges=WINGO!A2:F33&ranges=WINGO!G2:L33&ranges=WINGO!M2:R12","&").concat("valueRenderOption=FORMULA&dateTimeRenderOption=FORMATTED_STRING"),e.next=8,U.a.get(a);case 8:n=e.sent,c=n.data,s=c.valueRanges.map((function(e){return e.values.map((function(e){var t=Object(L.a)(e,5),a=t[0],n=t[1],s=t[2],c=t[3],i=t[4];if(!n)return new W(a,n);var r=i.match(/(https:\/\/clips\.twitch\.tv\/)(.+)";/);return r?r="".concat(r[1],"embed?clip=").concat(r[2],"&parent=").concat("xat0mz.github.io"):(r=i.match(/(https:\/\/streamable\.com\/)(.+)";/),r="".concat(r[1],"o/").concat(r[2])),new W(a,n,s,c,r)}))})).flat(),this.setState({maps:s}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}var c}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"onMapSelection",value:function(e){this.setState({selectedMap:m.a.find(this.state.maps,{id:e})})}},{key:"render",value:function(){var e=this.state.selectedMap?this.state.selectedMap.id:0,t=m.a.filter(this.state.maps,{finished:!0}).length,a=this.state.maps.length;return this.state.maps.length?Object(O.jsxs)(f.a,{className:"vstack gap-2 m-auto text-center ",style:{minHeight:"100vh"},children:[Object(O.jsx)(x,{finished:t,total:a}),Object(O.jsx)(G,{rows:5,cols:15,maps:this.state.maps,selectedId:e,onMapSelection:this.onMapSelection}),Object(O.jsx)(I,{selectedMap:this.state.selectedMap})]}):Object(O.jsx)(f.a,{className:"d-flex justify-content-center align-items-center",style:{width:"100vh",height:"100vh"},children:Object(O.jsx)(v,{})})}}]),a}(s.a.Component);i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.27edfe74.chunk.js.map