(this.webpackJsonpkacky=this.webpackJsonpkacky||[]).push([[0],{45:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(30),i=a.n(c),r=(a(45),a(20)),l=a.n(r),o=a(31),d=a(12),h=a(32),p=a(13),j=a(40),u=a(36),m=a(89),b=a(21),f=a(33),O=a(0);function v(){return Object(O.jsx)(f.a,{animation:"border",role:"status",size:"xxl",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}function x(e){return Object(O.jsxs)("span",{className:e.className+" fs-1",children:[e.finished," / ",e.total]})}function g(e){return Object(O.jsxs)("header",{className:"py-3 mb-2 border-bottom hstack gap-1",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[Object(O.jsx)("img",{src:"https://static-cdn.jtvnw.net/jtv_user_pictures/78ac5f9f-024b-4bf3-9098-e2278ebdc26a-profile_image-70x70.png",alt:"Wingo logo",width:"70",height:"70",className:"me-2",style:{borderRadius:"50%"}}),Object(O.jsx)("span",{className:"fs-1",children:"Wingobear - Kacky 2021"})]}),Object(O.jsx)(x,{className:"ms-auto",finished:e.finished,total:e.total})]})}var k=a(37),N=a(15),M=a(34),y=a(39);function w(e){var t=e.map;return Object(O.jsx)(y.a,{id:"radio-".concat(t.id),type:"radio",variant:t.finished?"outline-success":"outline-danger",name:"radio",value:t.id,checked:e.checked,onChange:function(){return e.onMapSelection(t.id)},className:"m-1 fw-bolder",children:t.id})}function R(e){var t=e.selectedId;return Object(O.jsx)(M.a,{size:"sm",className:"btn-group-justified",children:e.maps.map((function(a){return Object(O.jsx)(w,{map:a,checked:t===a.id,onMapSelection:e.onMapSelection},a.id)}))})}function G(e){var t=e.rows,a=e.cols,s=e.selectedId;return Object(O.jsx)(N.a,{children:Object(k.a)(Array(t).keys()).map((function(t){return Object(O.jsx)(R,{className:"d-flex justify-content-evenly",selectedId:s,maps:e.maps.slice(t*a,(t+1)*a),onMapSelection:e.onMapSelection},t)}))})}function S(e){var t=e.map;return t&&t.finished?Object(O.jsxs)("div",{className:"vstack flex-grow-0 gap-5 mt-5",style:{minWidth:"25%"},children:[Object(O.jsx)("span",{className:"fs-1",children:t.id}),Object(O.jsx)("span",{className:"fs-3",children:t.date}),Object(O.jsx)("span",{className:"fs-3",children:t.time})]}):Object(O.jsx)("div",{})}function I(e){return Object(O.jsx)("div",{className:"w-100 h-100",children:e.URL&&Object(O.jsx)("iframe",{title:"Map clip",src:e.URL,width:"100%",height:"100%",allowFullScreen:!0})})}function W(e){return Object(O.jsx)(N.a,{className:"flex-fill",children:Object(O.jsxs)("div",{className:"hstack gap-2",children:[Object(O.jsx)(S,{map:e.selectedMap}),Object(O.jsx)(I,{URL:e.selectedMap?e.selectedMap.clip:""})]})})}var L=a(38),F=function e(t,a,s,n,c){Object(d.a)(this,e),Object.assign(this,{id:t,finished:a,date:s,time:n,clip:c})};var U=a(35),A=a.n(U),D=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).onMapSelection=s.onMapSelection.bind(Object(p.a)(s)),s.state={maps:[],selectedMap:void 0},s}return Object(h.a)(a,[{key:"fetchData",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://sheets.googleapis.com/v4/spreadsheets/1Yqkhv4ayhwFkV39W0W7GLt1FnpHLUUXtpgGvRklnDnI/values:batchGet",t="key=".concat("AIzaSyCXaXgfyz_Gneiis7D3yJk22hUQ9NOssUg"),"ranges=WINGO!A2:F33&ranges=WINGO!G2:L33&ranges=WINGO!M2:R12","valueRenderOption=FORMULA&dateTimeRenderOption=FORMATTED_STRING",a="".concat("https://sheets.googleapis.com/v4/spreadsheets/1Yqkhv4ayhwFkV39W0W7GLt1FnpHLUUXtpgGvRklnDnI/values:batchGet","?").concat(t,"&").concat("ranges=WINGO!A2:F33&ranges=WINGO!G2:L33&ranges=WINGO!M2:R12","&").concat("valueRenderOption=FORMULA&dateTimeRenderOption=FORMATTED_STRING"),e.next=8,A.a.get(a);case 8:s=e.sent,c=s.data,n=c.valueRanges.map((function(e){return e.values.map((function(e){var t=Object(L.a)(e,5),a=t[0],s=t[1],n=t[2],c=t[3],i=t[4];if(!s)return new F(a,s);var r=i.match(/(https:\/\/clips\.twitch\.tv\/)(.+)";/);return r?r="".concat(r[1],"embed?clip=").concat(r[2],"&parent=").concat("xat0mz.github.io"):(r=i.match(/(https:\/\/streamable\.com\/)(.+)";/),r="".concat(r[1],"o/").concat(r[2])),new F(a,s,n,c,r)}))})).flat(),this.setState({maps:n}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}var c}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"onMapSelection",value:function(e){this.setState({selectedMap:m.a.find(this.state.maps,{id:e})})}},{key:"render",value:function(){var e=this.state.selectedMap?this.state.selectedMap.id:0,t=m.a.filter(this.state.maps,{finished:!0}).length,a=this.state.maps.length;return this.state.maps.length?Object(O.jsxs)(b.a,{className:"vstack gap-2 p-0 pb-2 text-center",style:{minHeight:"100vh"},children:[Object(O.jsx)(g,{finished:t,total:a}),Object(O.jsx)(G,{rows:5,cols:15,maps:this.state.maps,selectedId:e,onMapSelection:this.onMapSelection}),Object(O.jsx)(W,{selectedMap:this.state.selectedMap})]}):Object(O.jsx)(b.a,{className:"d-flex justify-content-center align-items-center",style:{width:"100vh",height:"100vh"},children:Object(O.jsx)(v,{})})}}]),a}(n.a.Component);i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.adca2375.chunk.js.map